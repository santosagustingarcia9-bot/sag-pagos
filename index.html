<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SAG & SK - Payment</title>

<script src="https://sdk.mercadopago.com/js/v2"></script>

<style>
body{
  background:#f3f4f6;
  font-family:Arial;
  display:flex;
  justify-content:center;
  padding:20px;
}

.card{
  background:white;
  max-width:420px;
  width:100%;
  padding:25px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
}

.logo{
  width:120px;
  height:120px;
  border-radius:50%;
  object-fit:cover;
}

.verify{
  color:green;
  font-weight:bold;
  margin-bottom:15px;
}

.resumen{
  background:#f0f0f0;
  padding:15px;
  border-radius:12px;
  margin:15px 0;
  display:flex;
  justify-content:space-between;
  font-weight:bold;
}

.method{
  border:2px solid #eee;
  padding:15px;
  border-radius:12px;
  margin:10px 0;
  cursor:pointer;
}

.method:hover{
  border-color:#6c63ff;
}

.btn{
  background:linear-gradient(90deg,#6c63ff,#7b74ff);
  color:white;
  padding:15px;
  border:none;
  border-radius:12px;
  font-size:16px;
  width:100%;
  margin-top:15px;
  cursor:pointer;
}

#card-form{
  display:none;
  margin-top:15px;
}

input{
  width:100%;
  padding:10px;
  margin:5px 0;
  border-radius:8px;
  border:1px solid #ddd;
}
</style>
</head>
<body>

<div class="card">

<img src="https://i.ibb.co/20wwmg12/yourlogo.jpg" class="logo">

<h2>SAG & SK</h2>
<div class="verify">✔ Pronosticador verificado</div>

<h3>Resumen de compra</h3>

<div class="resumen">
<span>Combinada del día</span>
<span>$ 5000 ARS</span>
</div>

<!-- MÉTODO MERCADOPAGO -->
<div class="method" onclick="pagarMP()">
<img src="https://logodownload.org/wp-content/uploads/2019/06/mercado-pago-logo.png" width="120">
<p>Pagar con MercadoPago</p>
</div>

<!-- MÉTODO TARJETA -->
<div class="method" onclick="mostrarTarjeta()">
<img src="https://logodownload.org/wp-content/uploads/2014/09/visa-logo-1.png" width="60">
<img src="https://logodownload.org/wp-content/uploads/2014/09/mastercard-logo-1.png" width="60">
<p>Pagar con tarjeta débito o crédito</p>
</div>

<!-- FORMULARIO TARJETA -->
<form id="card-form">
<input type="text" placeholder="Nombre completo">
<input type="text" placeholder="Número de tarjeta">
<input type="text" placeholder="MM/AA">
<input type="text" placeholder="CVC">
<button type="button" class="btn" onclick="pagarMP()">Confirmar pago</button>
</form>

</div>

<script>
const mp = new MercadoPago("APP_USR-afc13ecc-e106-4c83-9b96-6df76a8e2c8e");

function mostrarTarjeta(){
  document.getElementById("card-form").style.display="block";
}

async function pagarMP(){
  const response = await fetch("/crear-preferencia",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
  });

  const data = await response.json();

  mp.checkout({
    preference:{
      id:data.id
    },
    autoOpen:true
  });
}
</script>

</body>
</html>
